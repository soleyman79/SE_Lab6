# آزمایش ششم: Docker
## پاسخ پرسش‌ها

## مراحل آزمایش
در این آزمایش، همانطور که در دستور کار گفته شده است، باید یک سیستم نرم‌افزاری مبتنی بر معماری Microservice و بر بستر Docker ساخته شود. سیستمی که برای این آزمایش در نظر گرفته شده است، یک کتابخانه ساده است که در آن ۳ سرویس وجود دارد. سرویس اول برای مدیریت امور کتاب‌هاو ویژگی‌های آنهاست. سرویس دوم برای مدیریت کاربران و مشترکین کتابخانه است و در نهایت، سرویس آخر مختص به امانت‌گیری کتاب‌ها توسط کابران است. پیش از اینکه به توضیح دقیق و تفصیلی این سرویس‌ها پرداخته شود، ابتدا نحوه استقرار پروژه بر Docker توضیح داده می‌شود.

### قسمت اول، توضیح استقرار نرم‌افزار بر Docker

مطابق تصویر زیر، image مروبط به پروژه build می‌شود و همانطور که مشخص است، این کار با موفقیت انجام شده است:
![16](https://github.com/soleyman79/SE_Lab6/assets/59166192/7d515f87-e542-4060-803d-2c64f131218d)

در ادامه، image ساخته شده، اجرا می‌شود و به تبع آن، یک container برای پروژه ساخته می‌شود:

![17](https://github.com/soleyman79/SE_Lab6/assets/59166192/0eec9c89-7991-4795-973d-04f6725e1aa7)

سپس در تصویر زیر، مشاهده می‌شود که image پروژه با موفقیت ساخته شده است و به برنامه Docker Desktop نیز اضافه شده است:

![18](https://github.com/soleyman79/SE_Lab6/assets/59166192/195976f9-f0d1-49e1-975e-154bbd5cb0db)

در قدم بعد، به کمک دستور ```docker ps``` تمام containerهای در حال اجرا نمایش داده می‌شوند و همچنین به کمک دستور ```docker image ls``` تمام imageهای ساخته شده در سیستم نمایش داده می‌شوند که اولین image نمایش داده شده، متعلق به این آزمایش است:

![19](https://github.com/soleyman79/SE_Lab6/assets/59166192/632113ca-b619-4dfb-8a79-0abf0dab6d19)

### قسمت دوم، توضیح دقیق‌تر سرویس‌ها و APIهای آنها
همانطور که پیشتر گفته شد، ۳ سرویس برای این آزمایش در نظر گرفته شده است. در ادامه به توضیح هر کدام از عملیات‌های CRUD یا همان (Create - Read - Update - Delete) پرداخته می‌شود:

#### سرویس اول، مدیریت کتاب‌ها

در تصویر زیر، عملیات create برای هر کتاب با نوع درخواست post نشان داده شده است که در payload مربوط به request ایجاد کتاب، نام و تعداد صفحات داده می‌شود. همچنین در این آزمایش برای سادگی فرض شده است که نام کتاب‌ها بکتاست:

![1](https://github.com/soleyman79/SE_Lab6/assets/59166192/26f40e91-bfd1-438e-b08c-c6004fa5fcc9)

در تصویر زیر، عملیات read مربوط کتاب‌ها با درخواست نوع get نشان داده شده است و با دادن نام کتاب به عنوان paylaod، می‌توان اطلاعات کتاب را مشاهده کرد:

![2](https://github.com/soleyman79/SE_Lab6/assets/59166192/c166230a-ed35-4818-8797-bec360bda3ee)

در تصویر زیر، عملیات به روزرسانی کتاب‌ها با درخواست put انجام می‌شود و اطلاعات جدید از کتاب به عنوان payload وارد می‌شوند:

![3](https://github.com/soleyman79/SE_Lab6/assets/59166192/a818c77c-6595-46bb-9ef8-4b59f0f9f0e6)

در نهایت، عملیات delete کتاب‌ها با درخواست نوع del، به صورت زیر انجام می‌شود. این درخواست، نام کتاب را به عنوان payload دریافت می‌کند و اگر عملیات پاکسازی موفقیت‌آمیز باشد، هیچ پاسخی برگردانده نمی‌شود، اما اگر مطابق شگل زیر درخواست موفقیت‌آمیز نباشد و کتاب یا وجود نداشته باشد یا قبلا پاک شده باشد، یک پاسخ Not Found برگردانده می‌شود:

![4](https://github.com/soleyman79/SE_Lab6/assets/59166192/1b79e2c0-0ae3-48bc-a088-8b84b1451a54)


